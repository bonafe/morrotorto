<html>
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Área de Preservação Ambiental do Morro Torto">
    <meta name="description" content="Index do site da Área de Preservação Ambiental do Morro Torto - Indaiatuba - SP">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<style>
		html,
		body,
		.container-fluid {
		  height: 100%;
		}
	
		canvas {
		  width: 100%;
		  height: 100%;
		}
	  </style>	
	<script type="module">

		import { CaptadorCoordenadas } from './captador_coordenadas.js';

		window.captadorCoordenadas = new CaptadorCoordenadas();
		

		document.querySelector("#btn").addEventListener('click', () => {

			document.querySelector("#btn").textContent = "Capturando coordenadas...";
			document.querySelector("#btn").disabled = true;			

			window.captadorCoordenadas.iniciar_captura_coordenadas();
		});


		window.captadorCoordenadas.addEventListener('capturou_coordenada', (evento) => {

			const coordenada = evento.detail;

			document.querySelector("#btn").textContent = "Iniciar captura de coordenadas";
			document.querySelector("#btn").disabled = false;

			document.querySelector("#lista").appendChild(document.createElement("li")).textContent = JSON.stringify(coordenada);
		});
				

	</script>
</head>
<body>			
	<button id="btn" class="btn btn-primary">Iniciar captura de coordenadas</button>
	<ul id="lista" class="list-group">
	</ul>	
</body>
</html>
